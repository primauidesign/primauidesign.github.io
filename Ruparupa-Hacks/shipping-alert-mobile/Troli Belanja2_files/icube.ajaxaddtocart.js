function addToCart(url){new Ajax.Request(url,{method:'post',onLoading:function(){jQuery('body').addClass('loading');},onComplete:function(transport){result=JSON.parse(transport.responseText);if(result.status=="SUCCESS"){jQuery('.header-minicart .links').html(result.minicart);var minicart=jQuery('.header-minicart #header-cart');minicart.show();jQuery('#minicart-success-message').text(Translator.translate('Item has been added successfully.')).show();_helper.scrollToElm(jQuery('#header-cart'),10);jQuery("#header-cart #cart-sidebar").mCustomScrollbar();jQuery('body').removeClass('loading');}else{jQuery('body').removeClass('loading');jQuery.magnificPopup.open({items:{src:'<div class="white-popup">'+result.message+'</div>'},type:'inline'});}}});}function addToCartPdp(url,data){new Ajax.Request(url,{url:url,dataType:'json',type:'post',parameters:data,onLoading:function(){jQuery('body').addClass('loading');},onComplete:function(transport){result=JSON.parse(transport.responseText);if(result.status=="SUCCESS"){if(window==window.top){var minicart=jQuery('header.page-header .mobile-cart');minicart.replaceWith(result.minicart);jQuery('#ajaxaddtocart-result').remove();jQuery('body').append(result.popup);jQuery.magnificPopup.open({items:{src:'#ajaxaddtocart-result',type:'inline'}});jQuery('#ajaxaddtocart-result a.back').click(function(e){e.preventDefault();jQuery.magnificPopup.close();});jQuery('body').removeClass('loading');}else{jQuery('body').removeClass('loading');parent.jQuery('.header-minicart .links').html(result.minicart);var minicart=parent.jQuery('.header-minicart #header-cart');minicart.show();parent.jQuery('#minicart-success-message').text(Translator.translate('Item has been added successfully.')).show();parent.jQuery('html, body').animate({scrollTop:parent.jQuery('#header-cart').offset().top-10},700);parent.jQuery("#header-cart #cart-sidebar").mCustomScrollbar();parent.jQuery.colorbox.close();}}else{jQuery('body').removeClass('loading');jQuery.magnificPopup.open({items:{src:'<div class="white-popup">'+result.message+'</div>'},type:'inline'});}}});}function miniCartLinkOnClick(that,event){event.preventDefault();event.stopPropagation();var minicart=jQuery(that).parent().find('#header-cart');if(minicart.css('display')=='none'){jQuery('.header-container .skip-content').hide();jQuery('#minicart-success-message').hide();jQuery('#minicart-error-message').hide();minicart.fadeIn();}else{minicart.hide();}}