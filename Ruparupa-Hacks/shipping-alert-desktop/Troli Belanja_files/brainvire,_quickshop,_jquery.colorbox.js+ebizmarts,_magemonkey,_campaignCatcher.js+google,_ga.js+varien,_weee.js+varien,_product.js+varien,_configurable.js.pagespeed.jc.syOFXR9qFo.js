var mod_pagespeed_J5FfZwkscm = "(function($,document,window){var\ndefaults={html:false,photo:false,iframe:false,inline:false,transition:\"elastic\",speed:300,fadeOut:300,width:false,initialWidth:\"600\",innerWidth:false,maxWidth:false,height:false,initialHeight:\"450\",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,opacity:0.9,preloading:true,className:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true,fastIframe:true,open:false,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:\"start slideshow\",slideshowStop:\"stop slideshow\",photoRegex:/\\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\\?).*)?$/i,retinaImage:false,retinaUrl:false,retinaSuffix:'@2x.$1',current:\"image {current} of {total}\",previous:\"previous\",next:\"next\",close:\"close\",xhrError:\"This content failed to load.\",imgError:\"This image failed to load.\",returnFocus:true,trapFocus:true,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,rel:function(){return this.rel;},href:function(){return $(this).attr('href');},title:function(){return this.title;}},colorbox='colorbox',prefix='cbox',boxElement=prefix+'Element',event_open=prefix+'_open',event_load=prefix+'_load',event_complete=prefix+'_complete',event_cleanup=prefix+'_cleanup',event_closed=prefix+'_closed',event_purge=prefix+'_purge',$overlay,$box,$wrap,$content,$topBorder,$leftBorder,$rightBorder,$bottomBorder,$related,$window,$loaded,$loadingBay,$loadingOverlay,$title,$current,$slideshow,$next,$prev,$close,$groupControls,$events=$('<a/>'),settings,interfaceHeight,interfaceWidth,loadedHeight,loadedWidth,index,photo,open,active,closing,loadingTimer,publicMethod,div=\"div\",requests=0,previousCSS={},init;function $tag(tag,id,css){var element=document.createElement(tag);if(id){element.id=prefix+id;}if(css){element.style.cssText=css;}return $(element);}function winheight(){return window.innerHeight?window.innerHeight:$(window).height();}function Settings(element,options){if(options!==Object(options)){options={};}this.cache={};this.el=element;this.value=function(key){var dataAttr;if(this.cache[key]===undefined){dataAttr=$(this.el).attr('data-cbox-'+key);if(dataAttr!==undefined){this.cache[key]=dataAttr;}else if(options[key]!==undefined){this.cache[key]=options[key];}else if(defaults[key]!==undefined){this.cache[key]=defaults[key];}}return this.cache[key];};this.get=function(key){var value=this.value(key);return $.isFunction(value)?value.call(this.el,this):value;};}function getIndex(increment){var\nmax=$related.length,newIndex=(index+increment)%max;return(newIndex<0)?max+newIndex:newIndex;}function setSize(size,dimension){return Math.round((/%/.test(size)?((dimension==='x'?$window.width():winheight())/100):1)*parseInt(size,10));}function isImage(settings,url){return settings.get('photo')||settings.get('photoRegex').test(url);}function retinaUrl(settings,url){return settings.get('retinaUrl')&&window.devicePixelRatio>1?url.replace(settings.get('photoRegex'),settings.get('retinaSuffix')):url;}function trapFocus(e){if('contains'in $box[0]&&!$box[0].contains(e.target)&&e.target!==$overlay[0]){e.stopPropagation();$box.focus();}}function setClass(str){if(setClass.str!==str){$box.add($overlay).removeClass(setClass.str).addClass(str);setClass.str=str;}}function getRelated(rel){index=0;if(rel&&rel!==false&&rel!=='nofollow'){$related=$('.'+boxElement).filter(function(){var options=$.data(this,colorbox);var settings=new Settings(this,options);return(settings.get('rel')===rel);});index=$related.index(settings.el);if(index===-1){$related=$related.add(settings.el);index=$related.length-1;}}else{$related=$(settings.el);}}function trigger(event){$(document).trigger(event);$events.triggerHandler(event);}var slideshow=(function(){var active,className=prefix+\"Slideshow_\",click=\"click.\"+prefix,timeOut;function clear(){clearTimeout(timeOut);}function set(){if(settings.get('loop')||$related[index+1]){clear();timeOut=setTimeout(publicMethod.next,settings.get('slideshowSpeed'));}}function start(){$slideshow.html(settings.get('slideshowStop')).unbind(click).one(click,stop);$events.bind(event_complete,set).bind(event_load,clear);$box.removeClass(className+\"off\").addClass(className+\"on\");}function stop(){clear();$events.unbind(event_complete,set).unbind(event_load,clear);$slideshow.html(settings.get('slideshowStart')).unbind(click).one(click,function(){publicMethod.next();start();});$box.removeClass(className+\"on\").addClass(className+\"off\");}function reset(){active=false;$slideshow.hide();clear();$events.unbind(event_complete,set).unbind(event_load,clear);$box.removeClass(className+\"off \"+className+\"on\");}return function(){if(active){if(!settings.get('slideshow')){$events.unbind(event_cleanup,reset);reset();}}else{if(settings.get('slideshow')&&$related[1]){active=true;$events.one(event_cleanup,reset);if(settings.get('slideshowAuto')){start();}else{stop();}$slideshow.show();}}};}());function launch(element){var options;if(!closing){options=$(element).data(colorbox);settings=new Settings(element,options);getRelated(settings.get('rel'));if(!open){open=active=true;setClass(settings.get('className'));$box.css({visibility:'hidden',display:'block',opacity:''});$loaded=$tag(div,'LoadedContent','width:0; height:0; overflow:hidden; visibility:hidden');$content.css({width:'',height:''}).append($loaded);interfaceHeight=$topBorder.height()+$bottomBorder.height()+$content.outerHeight(true)-$content.height();interfaceWidth=$leftBorder.width()+$rightBorder.width()+$content.outerWidth(true)-$content.width();loadedHeight=$loaded.outerHeight(true);loadedWidth=$loaded.outerWidth(true);var initialWidth=setSize(settings.get('initialWidth'),'x');var initialHeight=setSize(settings.get('initialHeight'),'y');var maxWidth=settings.get('maxWidth');var maxHeight=settings.get('maxHeight');settings.w=(maxWidth!==false?Math.min(initialWidth,setSize(maxWidth,'x')):initialWidth)-loadedWidth-interfaceWidth;settings.h=(maxHeight!==false?Math.min(initialHeight,setSize(maxHeight,'y')):initialHeight)-loadedHeight-interfaceHeight;$loaded.css({width:'',height:settings.h});publicMethod.position();trigger(event_open);settings.get('onOpen');$groupControls.add($title).hide();$box.focus();if(settings.get('trapFocus')){if(document.addEventListener){document.addEventListener('focus',trapFocus,true);$events.one(event_closed,function(){document.removeEventListener('focus',trapFocus,true);});}}if(settings.get('returnFocus')){$events.one(event_closed,function(){$(settings.el).focus();});}}var opacity=parseFloat(settings.get('opacity'));$overlay.css({opacity:opacity===opacity?opacity:'',cursor:settings.get('overlayClose')?'pointer':'',visibility:'visible'}).show();if(settings.get('closeButton')){$close.html(settings.get('close')).appendTo($content);}else{$close.appendTo('<div/>');}load();}}function appendHTML(){if(!$box){init=false;$window=$(window);$box=$tag(div).attr({id:colorbox,'class':$.support.opacity===false?prefix+'IE':'',role:'dialog',tabindex:'-1'}).hide();$overlay=$tag(div,\"Overlay\").hide();$loadingOverlay=$([$tag(div,\"LoadingOverlay\")[0],$tag(div,\"LoadingGraphic\")[0]]);$wrap=$tag(div,\"Wrapper\");$content=$tag(div,\"Content\").append($title=$tag(div,\"Title\"),$current=$tag(div,\"Current\"),$prev=$('<button type=\"button\"/>').attr({id:prefix+'Previous'}),$next=$('<button type=\"button\"/>').attr({id:prefix+'Next'}),$slideshow=$tag('button',\"Slideshow\"),$loadingOverlay);$close=$('<button type=\"button\"/>').attr({id:prefix+'Close'});$wrap.append($tag(div).append($tag(div,\"TopLeft\"),$topBorder=$tag(div,\"TopCenter\"),$tag(div,\"TopRight\")),$tag(div,false,'clear:left').append($leftBorder=$tag(div,\"MiddleLeft\"),$content,$rightBorder=$tag(div,\"MiddleRight\")),$tag(div,false,'clear:left').append($tag(div,\"BottomLeft\"),$bottomBorder=$tag(div,\"BottomCenter\"),$tag(div,\"BottomRight\"))).find('div div').css({'float':'left'});$loadingBay=$tag(div,false,'position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;');$groupControls=$next.add($prev).add($current).add($slideshow);}if(document.body&&!$box.parent().length){$(document.body).append($overlay,$box.append($wrap,$loadingBay));}}function addBindings(){function clickHandler(e){if(!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)){e.preventDefault();launch(this);}}if($box){if(!init){init=true;$next.click(function(){publicMethod.next();});$prev.click(function(){publicMethod.prev();});$close.click(function(){publicMethod.close();});$overlay.click(function(){if(settings.get('overlayClose')){publicMethod.close();}});$(document).bind('keydown.'+prefix,function(e){var key=e.keyCode;if(open&&settings.get('escKey')&&key===27){e.preventDefault();publicMethod.close();}if(open&&settings.get('arrowKey')&&$related[1]&&!e.altKey){if(key===37){e.preventDefault();$prev.click();}else if(key===39){e.preventDefault();$next.click();}}});if($.isFunction($.fn.on)){$(document).on('click.'+prefix,'.'+boxElement,clickHandler);}else{$('.'+boxElement).live('click.'+prefix,clickHandler);}}return true;}return false;}if($[colorbox]){return;}$(appendHTML);publicMethod=$.fn[colorbox]=$[colorbox]=function(options,callback){var settings;var $obj=this;options=options||{};if($.isFunction($obj)){$obj=$('<a/>');options.open=true;}else if(!$obj[0]){return $obj;}if(!$obj[0]){return $obj;}appendHTML();if(addBindings()){if(callback){options.onComplete=callback;}$obj.each(function(){var old=$.data(this,colorbox)||{};$.data(this,colorbox,$.extend(old,options));}).addClass(boxElement);settings=new Settings($obj[0],options);if(settings.get('open')){launch($obj[0]);}}return $obj;};publicMethod.position=function(speed,loadedCallback){var\ncss,top=0,left=0,offset=$box.offset(),scrollTop,scrollLeft;$window.unbind('resize.'+prefix);$box.css({top:-9e4,left:-9e4});scrollTop=$window.scrollTop();scrollLeft=$window.scrollLeft();if(settings.get('fixed')){offset.top-=scrollTop;offset.left-=scrollLeft;$box.css({position:'fixed'});}else{top=scrollTop;left=scrollLeft;$box.css({position:'absolute'});}if(settings.get('right')!==false){left+=Math.max($window.width()-settings.w-loadedWidth-interfaceWidth-setSize(settings.get('right'),'x'),0);}else if(settings.get('left')!==false){left+=setSize(settings.get('left'),'x');}else{left+=Math.round(Math.max($window.width()-settings.w-loadedWidth-interfaceWidth,0)/2);}if(settings.get('bottom')!==false){top+=Math.max(winheight()-settings.h-loadedHeight-interfaceHeight-setSize(settings.get('bottom'),'y'),0);}else if(settings.get('top')!==false){top+=setSize(settings.get('top'),'y');}else{top+=Math.round(Math.max(winheight()-settings.h-loadedHeight-interfaceHeight,0)/2);}$box.css({top:offset.top,left:offset.left,visibility:'visible'});$wrap[0].style.width=$wrap[0].style.height=\"9999px\";function modalDimensions(){$topBorder[0].style.width=$bottomBorder[0].style.width=$content[0].style.width=(parseInt($box[0].style.width,10)-interfaceWidth)+'px';$content[0].style.height=$leftBorder[0].style.height=$rightBorder[0].style.height=(parseInt($box[0].style.height,10)-interfaceHeight)+'px';}css={width:settings.w+loadedWidth+interfaceWidth,height:settings.h+loadedHeight+interfaceHeight,top:top,left:left};if(speed){var tempSpeed=0;$.each(css,function(i){if(css[i]!==previousCSS[i]){tempSpeed=speed;return;}});speed=tempSpeed;}previousCSS=css;if(!speed){$box.css(css);}$box.dequeue().animate(css,{duration:speed||0,complete:function(){modalDimensions();active=false;$wrap[0].style.width=(settings.w+loadedWidth+interfaceWidth)+\"px\";$wrap[0].style.height=(settings.h+loadedHeight+interfaceHeight)+\"px\";if(settings.get('reposition')){setTimeout(function(){$window.bind('resize.'+prefix,publicMethod.position);},1);}if($.isFunction(loadedCallback)){loadedCallback();}},step:modalDimensions});};publicMethod.resize=function(options){var scrolltop;if(open){options=options||{};if(options.width){settings.w=setSize(options.width,'x')-loadedWidth-interfaceWidth;}if(options.innerWidth){settings.w=setSize(options.innerWidth,'x');}$loaded.css({width:settings.w});if(options.height){settings.h=setSize(options.height,'y')-loadedHeight-interfaceHeight;}if(options.innerHeight){settings.h=setSize(options.innerHeight,'y');}if(!options.innerHeight&&!options.height){scrolltop=$loaded.scrollTop();$loaded.css({height:\"auto\"});settings.h=$loaded.height();}$loaded.css({height:settings.h});if(scrolltop){$loaded.scrollTop(scrolltop);}publicMethod.position(settings.get('transition')===\"none\"?0:settings.get('speed'));}};publicMethod.prep=function(object){if(!open){return;}var callback,speed=settings.get('transition')===\"none\"?0:settings.get('speed');$loaded.remove();$loaded=$tag(div,'LoadedContent').append(object);function getWidth(){settings.w=settings.w||$loaded.width();settings.w=settings.mw&&settings.mw<settings.w?settings.mw:settings.w;return settings.w;}function getHeight(){settings.h=settings.h||$loaded.height();settings.h=settings.mh&&settings.mh<settings.h?settings.mh:settings.h;return settings.h;}$loaded.hide().appendTo($loadingBay.show()).css({width:getWidth(),overflow:settings.get('scrolling')?'auto':'hidden'}).css({height:getHeight()}).prependTo($content);$loadingBay.hide();$(photo).css({'float':'none'});setClass(settings.get('className'));callback=function(){var total=$related.length,iframe,complete;if(!open){return;}function removeFilter(){if($.support.opacity===false){$box[0].style.removeAttribute('filter');}}complete=function(){clearTimeout(loadingTimer);$loadingOverlay.hide();trigger(event_complete);settings.get('onComplete');};$title.html(settings.get('title')).show();$loaded.show();if(total>1){if(typeof settings.get('current')===\"string\"){$current.html(settings.get('current').replace('{current}',index+1).replace('{total}',total)).show();}$next[(settings.get('loop')||index<total-1)?\"show\":\"hide\"]().html(settings.get('next'));$prev[(settings.get('loop')||index)?\"show\":\"hide\"]().html(settings.get('previous'));slideshow();if(settings.get('preloading')){$.each([getIndex(-1),getIndex(1)],function(){var img,i=$related[this],settings=new Settings(i,$.data(i,colorbox)),src=settings.get('href');if(src&&isImage(settings,src)){src=retinaUrl(settings,src);img=document.createElement('img');img.src=src;}});}}else{$groupControls.hide();}if(settings.get('iframe')){iframe=document.createElement('iframe');if('frameBorder'in iframe){iframe.frameBorder=0;}if('allowTransparency'in iframe){iframe.allowTransparency=\"true\";}if(!settings.get('scrolling')){iframe.scrolling=\"no\";}$(iframe).attr({src:settings.get('href'),name:(new Date()).getTime(),'class':prefix+'Iframe',allowFullScreen:true}).one('load',complete).appendTo($loaded);$events.one(event_purge,function(){iframe.src=\"//about:blank\";});if(settings.get('fastIframe')){$(iframe).trigger('load');}}else{complete();}if(settings.get('transition')==='fade'){$box.fadeTo(speed,1,removeFilter);}else{removeFilter();}};if(settings.get('transition')==='fade'){$box.fadeTo(speed,0,function(){publicMethod.position(0,callback);});}else{publicMethod.position(speed,callback);}};function load(){var href,setResize,prep=publicMethod.prep,$inline,request=++requests;active=true;photo=false;trigger(event_purge);trigger(event_load);settings.get('onLoad');settings.h=settings.get('height')?setSize(settings.get('height'),'y')-loadedHeight-interfaceHeight:settings.get('innerHeight')&&setSize(settings.get('innerHeight'),'y');settings.w=settings.get('width')?setSize(settings.get('width'),'x')-loadedWidth-interfaceWidth:settings.get('innerWidth')&&setSize(settings.get('innerWidth'),'x');settings.mw=settings.w;settings.mh=settings.h;if(settings.get('maxWidth')){settings.mw=setSize(settings.get('maxWidth'),'x')-loadedWidth-interfaceWidth;settings.mw=settings.w&&settings.w<settings.mw?settings.w:settings.mw;}if(settings.get('maxHeight')){settings.mh=setSize(settings.get('maxHeight'),'y')-loadedHeight-interfaceHeight;settings.mh=settings.h&&settings.h<settings.mh?settings.h:settings.mh;}href=settings.get('href');loadingTimer=setTimeout(function(){$loadingOverlay.show();},100);if(settings.get('inline')){var $target=$(href);$inline=$('<div>').hide().insertBefore($target);$events.one(event_purge,function(){$inline.replaceWith($target);});prep($target);}else if(settings.get('iframe')){prep(\" \");}else if(settings.get('html')){prep(settings.get('html'));}else if(isImage(settings,href)){href=retinaUrl(settings,href);photo=new Image();$(photo).addClass(prefix+'Photo').bind('error',function(){prep($tag(div,'Error').html(settings.get('imgError')));}).one('load',function(){if(request!==requests){return;}setTimeout(function(){var percent;$.each(['alt','longdesc','aria-describedby'],function(i,val){var attr=$(settings.el).attr(val)||$(settings.el).attr('data-'+val);if(attr){photo.setAttribute(val,attr);}});if(settings.get('retinaImage')&&window.devicePixelRatio>1){photo.height=photo.height/window.devicePixelRatio;photo.width=photo.width/window.devicePixelRatio;}if(settings.get('scalePhotos')){setResize=function(){photo.height-=photo.height*percent;photo.width-=photo.width*percent;};if(settings.mw&&photo.width>settings.mw){percent=(photo.width-settings.mw)/photo.width;setResize();}if(settings.mh&&photo.height>settings.mh){percent=(photo.height-settings.mh)/photo.height;setResize();}}if(settings.h){photo.style.marginTop=Math.max(settings.mh-photo.height,0)/2+'px';}if($related[1]&&(settings.get('loop')||$related[index+1])){photo.style.cursor='pointer';photo.onclick=function(){publicMethod.next();};}photo.style.width=photo.width+'px';photo.style.height=photo.height+'px';prep(photo);},1);});photo.src=href;}else if(href){$loadingBay.load(href,settings.get('data'),function(data,status){if(request===requests){prep(status==='error'?$tag(div,'Error').html(settings.get('xhrError')):$(this).contents());}});}}publicMethod.next=function(){if(!active&&$related[1]&&(settings.get('loop')||$related[index+1])){index=getIndex(1);launch($related[index]);}};publicMethod.prev=function(){if(!active&&$related[1]&&(settings.get('loop')||index)){index=getIndex(-1);launch($related[index]);}};publicMethod.close=function(){if(open&&!closing){closing=true;open=false;trigger(event_cleanup);settings.get('onCleanup');$window.unbind('.'+prefix);$overlay.fadeTo(settings.get('fadeOut')||0,0);$box.stop().fadeTo(settings.get('fadeOut')||0,0,function(){$box.hide();$overlay.hide();trigger(event_purge);$loaded.remove();setTimeout(function(){closing=false;trigger(event_closed);settings.get('onClosed');},1);});}};publicMethod.remove=function(){if(!$box){return;}$box.stop();$[colorbox].close();$box.stop(false,true).remove();$overlay.remove();closing=false;$box=null;$('.'+boxElement).removeData(colorbox).removeClass(boxElement);$(document).unbind('click.'+prefix).unbind('keydown.'+prefix);};publicMethod.element=function(){return $(settings.el);};publicMethod.settings=defaults;}(jQuery,document,window));";
var mod_pagespeed_fj1iwNfuR7 = "(function(){function getCampaign(){var params=location.search.substr(1).split('&');var cookies=[];for(var i=0;i<params.length;i++){var cookie=params[i].split('=');var key=cookie[0];var val=cookie[1];if(key&&val){cookies[key]=val;}}if(cookies['mc_cid']){createCookie('magemonkey_campaign_id='+cookies['mc_cid'],30);}if(cookies['mc_eid']){createCookie('magemonkey_email_id='+cookies['mc_eid'],30);}}function createCookie(cookie,expirationInDays){var now=new Date();var expire=new Date(now.getTime()+(expirationInDays*24*60)*60000);document.cookie=cookie+'; expires='+expire+'; path=/';}if(document.loaded){getCampaign();}else{document.observe('dom:loaded',getCampaign());}})();";
var mod_pagespeed_TpMbMfHojs = "var dlCurrencyCode='';var dataLayer=[];var staticImpressions=[];var staticPromotions=[];var updatedImpressions=[];var updatedPromotions=[];var cookieAddToCart='add_to_cart';var cookieRemoveFromCart='remove_from_cart';var bannerCounter=0;var googleAnalyticsUniversalData=googleAnalyticsUniversalData||{'shoppingCartContent':[]};function GoogleAnalyticsUniversal(){}GoogleAnalyticsUniversal.prototype={activeOnCategory:function(id,name,category,list,position){dataLayer.push({'event':'productClick','ecommerce':{'click':{'actionField':{'list':list},'products':[{'id':id,'name':name,'category':category,'list':list,'position':position}]}}});},activeOnProducts:function(id,name,list,position){dataLayer.push({'event':'productClick','ecommerce':{'click':{'actionField':{'list':list},'products':[{'id':id,'name':name,'list':list,'position':position}]}}});},addToCart:function(id,name,price,quantity){dataLayer.push({'event':'addToCart','ecommerce':{'currencyCode':dlCurrencyCode,'add':{'products':[{'id':id,'name':name,'price':price,'quantity':quantity}]}}});},clickBanner:function(id,name,creative,position){dataLayer.push({'event':'promotionClick','ecommerce':{'promoClick':{'promotions':[{'id':id,'name':name,'creative':creative,'position':position}]}}});},bindImpressionClick:function(id,type,name,category,list,position,blockType,listPosition){var productLink=[];var eventBlock;switch(blockType){case'catalog.product.related':eventBlock='.box-related';break;case'product.info.upsell':eventBlock='.box-up-sell';break;case'checkout.cart.crosssell':eventBlock='.crosssell';break;case'product_list':case'search_result_list':eventBlock='.category-products';break;}productLink=$$(eventBlock+' .item:nth('+(listPosition)+') a');if(type=='configurable'||type=='bundle'||type=='grouped'){productLink=$$(eventBlock+' .item:nth('+(listPosition)+') .btn-cart',eventBlock+' .item:nth('+(listPosition)+') a');}productLink.each(function(element){element.observe('click',function(event){googleAnalyticsUniversal.activeOnProducts(id,name,list,position);});});},updateImpressions:function(){var pageImpressions=this.mergeImpressions();var dlImpressions={'event':'productImpression','ecommerce':{'impressions':[]}}\nvar impressionCounter=0;for(blockName in pageImpressions){if(blockName==='length'||!pageImpressions.hasOwnProperty(blockName))continue;for(var i=0;i<pageImpressions[blockName].length;i++){var impression=pageImpressions[blockName][i];dlImpressions.ecommerce.impressions.push({'id':impression.id,'name':impression.name,'category':impression.category,'list':impression.list,'position':impression.position});impressionCounter++;this.bindImpressionClick(impression.id,impression.type,impression.name,impression.category,impression.list,impression.position,blockName,impression.listPosition);}}if(impressionCounter>0){dataLayer.push(dlImpressions);}},mergeImpressions:function(){var pageImpressions=[];var blockNames=['product_list','product.info.upsell','catalog.product.related','checkout.cart.crosssell','search_result_list'];blockNames.each(function(blockName){if(blockName in updatedImpressions){pageImpressions[blockName]=updatedImpressions[blockName];}else if(blockName in staticImpressions){pageImpressions[blockName]=staticImpressions[blockName];}});return pageImpressions;},updatePromotions:function(){var dlPromotions={'event':'promotionView','ecommerce':{'promoView':{'promotions':[]}}};var pagePromotions=[];if(updatedPromotions.length){pagePromotions=updatedPromotions;}if(pagePromotions.length==0&&staticPromotions.length){pagePromotions=staticPromotions;}var promotionCounter=0;for(var i=0;i<pagePromotions.length;i++){var promotion=pagePromotions[i];var banner=$('banner-'+promotion.id);if(!banner||promotion.activated=='0'){continue;}dlPromotions.ecommerce.promoView.promotions.push({'id':promotion.id,'name':promotion.name,'creative':promotion.creative,'position':promotion.position});promotionCounter++;this.bindPromotionClick(banner,promotion.id,promotion.name,promotion.creative,promotion.position);}if(promotionCounter>0){dataLayer.push(dlPromotions);}},bindPromotionClick:function(banner,id,name,creative,position){banner.observe('click',function(event){googleAnalyticsUniversal.clickBanner(id,name,creative,position);});}};GoogleAnalyticsUniversalCart=function(){this.productQtys=[];this.origProducts={};this.productWithChanges=[];this.addedProducts=[];this.removedProducts=[];};GoogleAnalyticsUniversalCart.prototype={listenMinicartReload:function(){var context=this;if(typeof(Minicart)!='undefined'&&typeof(Minicart.prototype.initAfterEvents)){Minicart.prototype.initAfterEvents['GoogleAnalyticsUniversalCart:subscribeProductsUpdateInCart']=function(){context.subscribeProductsUpdateInCart();context.parseAddToCartCookies();context.parseRemoveFromCartCookies();};Minicart.prototype.removeItemAfterEvents['GoogleAnalyticsUniversalCart:subscribeProductsRemoveFromCart']=function(){context.parseRemoveFromCartCookies();};}},subscribeProductsUpdateInCart:function(){var context=this;$$('[data-cart-item-update]').each(function(element){$(element).stopObserving('click').observe('click',function(){context.updateCartObserver();});});$$('[data-multiship-item-update]').each(function(element){$(element).stopObserving('click').observe('click',function(){context.updateMulticartCartObserver();});});$$('[data-cart-empty]').each(function(element){$(element).stopObserving('click').observe('click',function(){context.emptyCartObserver();});});},emptyCartObserver:function(){this.collectOriginalProducts();for(var i in this.origProducts){if(i!='length'&&this.origProducts.hasOwnProperty(i)){var product=Object.extend({},this.origProducts[i]);this.removedProducts.push(product);}}this.cartItemRemoved();},updateMulticartCartObserver:function(){this.collectMultiProductsWithChanges();this.collectProductsForMessages();this.cartItemAdded();this.cartItemRemoved();},updateCartObserver:function(){this.collectProductsWithChanges();this.collectProductsForMessages();this.cartItemAdded();this.cartItemRemoved();},collectMultiProductsWithChanges:function(){this.collectOriginalProducts();this.collectMultiCartQtys();this.productWithChanges=[];var groupedProducts={};for(var i=0;i<this.productQtys.length;i++){var cartProduct=this.productQtys[i];if(typeof(groupedProducts[cartProduct.id])=='undefined'){groupedProducts[cartProduct.id]=parseInt(cartProduct.qty,10);}else{groupedProducts[cartProduct.id]+=parseInt(cartProduct.qty,10);}}for(var j in groupedProducts){if(groupedProducts.hasOwnProperty(j)){if((typeof(this.origProducts[j])!='undefined')&&(groupedProducts[j]!=this.origProducts[j].qty)){var product=Object.extend({},this.origProducts[j]);product['qty']=groupedProducts[j];this.productWithChanges.push(product);}}}},collectProductsWithChanges:function(){this.collectOriginalProducts();this.collectCartQtys();this.productWithChanges=[];for(var i=0;i<this.productQtys.length;i++){var cartProduct=this.productQtys[i];if((typeof(this.origProducts[cartProduct.id])!='undefined')&&(cartProduct.qty!=this.origProducts[cartProduct.id].qty)){var product=Object.extend({},this.origProducts[cartProduct.id]);if(parseInt(cartProduct.qty,10)>0){product['qty']=cartProduct.qty;this.productWithChanges.push(product);}}}},collectOriginalProducts:function(){if(googleAnalyticsUniversalData&&googleAnalyticsUniversalData['shoppingCartContent']){this.origProducts=googleAnalyticsUniversalData['shoppingCartContent'];}},collectMultiCartQtys:function(){var productQtys=[];$$('[data-multiship-item-id]').each(function(element){productQtys.push({'id':$(element).readAttribute('data-multiship-item-id'),'qty':$(element).getValue()});});this.productQtys=productQtys;},collectCartQtys:function(){var productQtys=[];$$('[data-cart-item-id]').each(function(element){productQtys.push({'id':$(element).readAttribute('data-cart-item-id'),'qty':$(element).getValue()});});this.productQtys=productQtys;},collectProductsForMessages:function(){this.addedProducts=[];this.removedProducts=[];for(var i=0;i<this.productWithChanges.length;i++){var product=this.productWithChanges[i];if(typeof(this.origProducts[product.id])!='undefined'){if(product.qty>this.origProducts[product.id].qty){product.qty=Math.abs(this.origProducts[product.id].qty-product.qty);this.addedProducts.push(product);}else if(product.qty<this.origProducts[product.id].qty&&product.qty!=0){product.qty=product.qty-this.origProducts[product.id].qty;this.addedProducts.push(product);}else{product.qty=Math.abs(product.qty-this.origProducts[product.id].qty);this.removedProducts.push(product);}}}},formatProductsArray:function(productsIn){var productsOut=[];var itemId;for(var i in productsIn){if(i!='length'&&productsIn.hasOwnProperty(i)){if(typeof(productsIn[i]['sku'])!='undefined'){itemId=productsIn[i].sku;}else{itemId=productsIn[i].id;}productsOut.push({'id':itemId,'name':productsIn[i].name,'price':productsIn[i].price,'quantity':parseInt(productsIn[i].qty,10)});}}return productsOut;},cartItemAdded:function(){if(this.addedProducts.length==0){return;}dataLayer.push({'event':'addToCart','ecommerce':{'currencyCode':dlCurrencyCode,'add':{'products':this.formatProductsArray(this.addedProducts)}}});this.addedProducts=[];},cartItemRemoved:function(){if(this.removedProducts.length==0){return;}dataLayer.push({'event':'removeFromCart','ecommerce':{'currencyCode':dlCurrencyCode,'remove':{'products':this.formatProductsArray(this.removedProducts)}}});this.removedProducts=[];},parseAddToCartCookies:function(){if(getCookie(cookieAddToCart)){this.addedProducts=[];var addProductsList=decodeURIComponent(getCookie(cookieAddToCart));this.addedProducts=JSON.parse(addProductsList);delCookie(cookieAddToCart);this.cartItemAdded();}},parseRemoveFromCartCookies:function(){if(getCookie(cookieRemoveFromCart)){this.removedProducts=[];var removeProductsList=decodeURIComponent(getCookie(cookieRemoveFromCart));this.removedProducts=JSON.parse(removeProductsList);delCookie(cookieRemoveFromCart);this.cartItemRemoved();}}};var googleAnalyticsUniversal=new GoogleAnalyticsUniversal();var googleAnalyticsUniversalCart=new GoogleAnalyticsUniversalCart();document.observe('dom:loaded',function(){googleAnalyticsUniversal.updatePromotions();googleAnalyticsUniversal.updateImpressions();googleAnalyticsUniversalCart.parseAddToCartCookies();googleAnalyticsUniversalCart.parseRemoveFromCartCookies();googleAnalyticsUniversalCart.subscribeProductsUpdateInCart();googleAnalyticsUniversalCart.listenMinicartReload();dataLayer.push({'ecommerce':{'impressions':0,'promoView':0}});});function getCookie(name){var cookie=\" \"+document.cookie;var search=\" \"+name+\"=\";var setStr=null;var offset=0;var end=0;if(cookie.length>0){offset=cookie.indexOf(search);if(offset!=-1){offset+=search.length;end=cookie.indexOf(\";\",offset);if(end==-1){end=cookie.length;}setStr=unescape(cookie.substring(offset,end));}}return(setStr);}function delCookie(name){var cookie=name+\"=\"+\"; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/; domain=.\"+window.location.host;document.cookie=cookie;}";
var mod_pagespeed_iTIq4CaBNQ = "function taxToggle(details,switcher,expandedClassName){if($(details).style.display=='none'){$(details).show();$(switcher).addClassName(expandedClassName);}else{$(details).hide();$(switcher).removeClassName(expandedClassName);}}";
var mod_pagespeed_d2zoavBpUp = "if(typeof Product=='undefined'){var Product={};}Product.Zoom=Class.create();Product.Zoom.prototype={initialize:function(imageEl,trackEl,handleEl,zoomInEl,zoomOutEl,hintEl){this.containerEl=$(imageEl).parentNode;this.imageEl=$(imageEl);this.handleEl=$(handleEl);this.trackEl=$(trackEl);this.hintEl=$(hintEl);this.containerDim=Element.getDimensions(this.containerEl);this.imageDim=Element.getDimensions(this.imageEl);this.imageDim.ratio=this.imageDim.width/this.imageDim.height;this.floorZoom=1;if(this.imageDim.width>this.imageDim.height){this.ceilingZoom=this.imageDim.width/this.containerDim.width;}else{this.ceilingZoom=this.imageDim.height/this.containerDim.height;}if(this.imageDim.width<=this.containerDim.width&&this.imageDim.height<=this.containerDim.height){this.trackEl.up().hide();this.hintEl.hide();this.containerEl.removeClassName('product-image-zoom');return;}this.imageX=0;this.imageY=0;this.imageZoom=1;this.sliderSpeed=0;this.sliderAccel=0;this.zoomBtnPressed=false;this.showFull=false;this.selects=document.getElementsByTagName('select');this.draggable=new Draggable(imageEl,{starteffect:false,reverteffect:false,endeffect:false,snap:this.contain.bind(this)});this.slider=new Control.Slider(handleEl,trackEl,{axis:'horizontal',minimum:0,maximum:Element.getDimensions(this.trackEl).width,alignX:0,increment:1,sliderValue:0,onSlide:this.scale.bind(this),onChange:this.scale.bind(this)});this.scale(0);Event.observe(this.imageEl,'dblclick',this.toggleFull.bind(this));Event.observe($(zoomInEl),'mousedown',this.startZoomIn.bind(this));Event.observe($(zoomInEl),'mouseup',this.stopZooming.bind(this));Event.observe($(zoomInEl),'mouseout',this.stopZooming.bind(this));Event.observe($(zoomOutEl),'mousedown',this.startZoomOut.bind(this));Event.observe($(zoomOutEl),'mouseup',this.stopZooming.bind(this));Event.observe($(zoomOutEl),'mouseout',this.stopZooming.bind(this));},toggleFull:function(){this.showFull=!this.showFull;if(typeof document.body.style.maxHeight==\"undefined\"){for(i=0;i<this.selects.length;i++){this.selects[i].style.visibility=this.showFull?'hidden':'visible';}}val_scale=!this.showFull?this.slider.value:1;this.scale(val_scale);this.trackEl.style.visibility=this.showFull?'hidden':'visible';this.containerEl.style.overflow=this.showFull?'visible':'hidden';this.containerEl.style.zIndex=this.showFull?'1000':'9';return this;},scale:function(v){var centerX=(this.containerDim.width*(1-this.imageZoom)/2-this.imageX)/this.imageZoom;var centerY=(this.containerDim.height*(1-this.imageZoom)/2-this.imageY)/this.imageZoom;var overSize=(this.imageDim.width>this.containerDim.width||this.imageDim.height>this.containerDim.height);this.imageZoom=this.floorZoom+(v*(this.ceilingZoom-this.floorZoom));if(overSize){if(this.imageDim.width>this.imageDim.height){this.imageEl.style.width=(this.imageZoom*this.containerDim.width)+'px';}else{this.imageEl.style.height=(this.imageZoom*this.containerDim.height)+'px';}if(this.containerDim.ratio){if(this.imageDim.width>this.imageDim.height){this.imageEl.style.height=(this.imageZoom*this.containerDim.width*this.containerDim.ratio)+'px';}else{this.imageEl.style.width=(this.imageZoom*this.containerDim.height*this.containerDim.ratio)+'px';}}}else{this.slider.setDisabled();}this.imageX=this.containerDim.width*(1-this.imageZoom)/2-centerX*this.imageZoom;this.imageY=this.containerDim.height*(1-this.imageZoom)/2-centerY*this.imageZoom;this.contain(this.imageX,this.imageY,this.draggable);return true;},startZoomIn:function(){if(!this.slider.disabled){this.zoomBtnPressed=true;this.sliderAccel=.002;this.periodicalZoom();this.zoomer=new PeriodicalExecuter(this.periodicalZoom.bind(this),.05);}return this;},startZoomOut:function(){if(!this.slider.disabled){this.zoomBtnPressed=true;this.sliderAccel=-.002;this.periodicalZoom();this.zoomer=new PeriodicalExecuter(this.periodicalZoom.bind(this),.05);}return this;},stopZooming:function(){if(!this.zoomer||this.sliderSpeed==0){return;}this.zoomBtnPressed=false;this.sliderAccel=0;},periodicalZoom:function(){if(!this.zoomer){return this;}if(this.zoomBtnPressed){this.sliderSpeed+=this.sliderAccel;}else{this.sliderSpeed/=1.5;if(Math.abs(this.sliderSpeed)<.001){this.sliderSpeed=0;this.zoomer.stop();this.zoomer=null;}}this.slider.value+=this.sliderSpeed;this.slider.setValue(this.slider.value);this.scale(this.slider.value);return this;},contain:function(x,y,draggable){var dim=Element.getDimensions(draggable.element);var xMin=0,xMax=this.containerDim.width-dim.width;var yMin=0,yMax=this.containerDim.height-dim.height;x=x>xMin?xMin:x;x=x<xMax?xMax:x;y=y>yMin?yMin:y;y=y<yMax?yMax:y;if(this.containerDim.width>dim.width){x=(this.containerDim.width/2)-(dim.width/2);}if(this.containerDim.height>dim.height){y=(this.containerDim.height/2)-(dim.height/2);}this.imageX=x;this.imageY=y;this.imageEl.style.left=this.imageX+'px';this.imageEl.style.top=this.imageY+'px';return[x,y];}}\nProduct.Config=Class.create();Product.Config.prototype={initialize:function(config){this.config=config;this.taxConfig=this.config.taxConfig;this.settings=$$('.super-attribute-select');this.state=new Hash();this.priceTemplate=new Template(this.config.template);this.prices=config.prices;this.settings.each(function(element){Event.observe(element,'change',this.configure.bind(this))}.bind(this));this.settings.each(function(element){var attributeId=element.id.replace(/[a-z]*/,'');if(attributeId&&this.config.attributes[attributeId]){element.config=this.config.attributes[attributeId];element.attributeId=attributeId;this.state[attributeId]=false;}}.bind(this))\nvar childSettings=[];for(var i=this.settings.length-1;i>=0;i--){var prevSetting=this.settings[i-1]?this.settings[i-1]:false;var nextSetting=this.settings[i+1]?this.settings[i+1]:false;if(i==0){this.fillSelect(this.settings[i])}else{this.settings[i].disabled=true;}$(this.settings[i]).childSettings=childSettings.clone();$(this.settings[i]).prevSetting=prevSetting;$(this.settings[i]).nextSetting=nextSetting;childSettings.push(this.settings[i]);}if(config.defaultValues){this.values=config.defaultValues;}var separatorIndex=window.location.href.indexOf('#');if(separatorIndex!=-1){var paramsStr=window.location.href.substr(separatorIndex+1);var urlValues=paramsStr.toQueryParams();if(!this.values){this.values={};}for(var i in urlValues){this.values[i]=urlValues[i];}}this.configureForValues();document.observe(\"dom:loaded\",this.configureForValues.bind(this));},configureForValues:function(){if(this.values){this.settings.each(function(element){var attributeId=element.attributeId;element.value=(typeof(this.values[attributeId])=='undefined')?'':this.values[attributeId];this.configureElement(element);}.bind(this));}},configure:function(event){var element=Event.element(event);this.configureElement(element);},configureElement:function(element){this.reloadOptionLabels(element);if(element.value){this.state[element.config.id]=element.value;if(element.nextSetting){element.nextSetting.disabled=false;this.fillSelect(element.nextSetting);this.resetChildren(element.nextSetting);}}else{this.resetChildren(element);}this.reloadPrice();},reloadOptionLabels:function(element){var selectedPrice;if(element.options[element.selectedIndex].config){selectedPrice=parseFloat(element.options[element.selectedIndex].config.price)}else{selectedPrice=0;}for(var i=0;i<element.options.length;i++){if(element.options[i].config){element.options[i].text=this.getOptionLabel(element.options[i].config,element.options[i].config.price-selectedPrice);}}},resetChildren:function(element){if(element.childSettings){for(var i=0;i<element.childSettings.length;i++){element.childSettings[i].selectedIndex=0;element.childSettings[i].disabled=true;if(element.config){this.state[element.config.id]=false;}}}},fillSelect:function(element){var attributeId=element.id.replace(/[a-z]*/,'');var options=this.getAttributeOptions(attributeId);this.clearSelect(element);element.options[0]=new Option('','');element.options[0].innerHTML=this.config.chooseText;var prevConfig=false;if(element.prevSetting){prevConfig=element.prevSetting.options[element.prevSetting.selectedIndex];}if(options){var index=1;for(var i=0;i<options.length;i++){var allowedProducts=[];if(prevConfig){for(var j=0;j<options[i].products.length;j++){if(prevConfig.config.allowedProducts&&prevConfig.config.allowedProducts.indexOf(options[i].products[j])>-1){allowedProducts.push(options[i].products[j]);}}}else{allowedProducts=options[i].products.clone();}if(allowedProducts.size()>0){options[i].allowedProducts=allowedProducts;element.options[index]=new Option(this.getOptionLabel(options[i],options[i].price),options[i].id);element.options[index].config=options[i];index++;}}}},getOptionLabel:function(option,price){var price=parseFloat(price);if(this.taxConfig.includeTax){var tax=price/(100+this.taxConfig.defaultTax)*this.taxConfig.defaultTax;var excl=price-tax;var incl=excl*(1+(this.taxConfig.currentTax/100));}else{var tax=price*(this.taxConfig.currentTax/100);var excl=price;var incl=excl+tax;}if(this.taxConfig.showIncludeTax||this.taxConfig.showBothPrices){price=incl;}else{price=excl;}var str=option.label;if(price){if(this.taxConfig.showBothPrices){str+=' '+this.formatPrice(excl,true)+' ('+this.formatPrice(price,true)+' '+this.taxConfig.inclTaxTitle+')';}else{str+=' '+this.formatPrice(price,true);}}return str;},formatPrice:function(price,showSign){var str='';price=parseFloat(price);if(showSign){if(price<0){str+='-';price=-price;}else{str+='+';}}var roundedPrice=(Math.round(price*100)/100).toString();if(this.prices&&this.prices[roundedPrice]){str+=this.prices[roundedPrice];}else{str+=this.priceTemplate.evaluate({price:price.toFixed(2)});}return str;},clearSelect:function(element){for(var i=element.options.length-1;i>=0;i--){element.remove(i);}},getAttributeOptions:function(attributeId){if(this.config.attributes[attributeId]){return this.config.attributes[attributeId].options;}},reloadPrice:function(){var price=0;var oldPrice=0;for(var i=this.settings.length-1;i>=0;i--){var selected=this.settings[i].options[this.settings[i].selectedIndex];if(selected.config){price+=parseFloat(selected.config.price);oldPrice+=parseFloat(selected.config.oldPrice);}}optionsPrice.changePrice('config',{'price':price,'oldPrice':oldPrice});optionsPrice.reload();return price;if($('product-price-'+this.config.productId)){$('product-price-'+this.config.productId).innerHTML=price;}this.reloadOldPrice();},reloadOldPrice:function(){if($('old-price-'+this.config.productId)){var price=parseFloat(this.config.oldPrice);for(var i=this.settings.length-1;i>=0;i--){var selected=this.settings[i].options[this.settings[i].selectedIndex];if(selected.config){var parsedOldPrice=parseFloat(selected.config.oldPrice);price+=isNaN(parsedOldPrice)?0:parsedOldPrice;}}if(price<0)price=0;price=this.formatPrice(price);if($('old-price-'+this.config.productId)){$('old-price-'+this.config.productId).innerHTML=price;}}}}\nProduct.Super={};Product.Super.Configurable=Class.create();Product.Super.Configurable.prototype={initialize:function(container,observeCss,updateUrl,updatePriceUrl,priceContainerId){this.container=$(container);this.observeCss=observeCss;this.updateUrl=updateUrl;this.updatePriceUrl=updatePriceUrl;this.priceContainerId=priceContainerId;this.registerObservers();},registerObservers:function(){var elements=this.container.getElementsByClassName(this.observeCss);elements.each(function(element){Event.observe(element,'change',this.update.bindAsEventListener(this));}.bind(this));return this;},update:function(event){var elements=this.container.getElementsByClassName(this.observeCss);var parameters=Form.serializeElements(elements,true);new Ajax.Updater(this.container,this.updateUrl+'?ajax=1',{parameters:parameters,onComplete:this.registerObservers.bind(this)});var priceContainer=$(this.priceContainerId);if(priceContainer){new Ajax.Updater(priceContainer,this.updatePriceUrl+'?ajax=1',{parameters:parameters});}}}\nProduct.OptionsPrice=Class.create();Product.OptionsPrice.prototype={initialize:function(config){this.productId=config.productId;this.priceFormat=config.priceFormat;this.includeTax=config.includeTax;this.defaultTax=config.defaultTax;this.currentTax=config.currentTax;this.productPrice=config.productPrice;this.showIncludeTax=config.showIncludeTax;this.showBothPrices=config.showBothPrices;this.productOldPrice=config.productOldPrice;this.priceInclTax=config.priceInclTax;this.priceExclTax=config.priceExclTax;this.skipCalculate=config.skipCalculate;this.duplicateIdSuffix=config.idSuffix;this.specialTaxPrice=config.specialTaxPrice;this.tierPrices=config.tierPrices;this.tierPricesInclTax=config.tierPricesInclTax;this.oldPlusDisposition=config.oldPlusDisposition;this.plusDisposition=config.plusDisposition;this.plusDispositionTax=config.plusDispositionTax;this.oldMinusDisposition=config.oldMinusDisposition;this.minusDisposition=config.minusDisposition;this.exclDisposition=config.exclDisposition;this.optionPrices={};this.customPrices={};this.containers={};this.displayZeroPrice=true;this.initPrices();},setDuplicateIdSuffix:function(idSuffix){this.duplicateIdSuffix=idSuffix;},initPrices:function(){this.containers[0]='product-price-'+this.productId;this.containers[1]='bundle-price-'+this.productId;this.containers[2]='price-including-tax-'+this.productId;this.containers[3]='price-excluding-tax-'+this.productId;this.containers[4]='old-price-'+this.productId;},changePrice:function(key,price){this.optionPrices[key]=price;},addCustomPrices:function(key,price){this.customPrices[key]=price;},getOptionPrices:function(){var price=0;var nonTaxable=0;var oldPrice=0;var priceInclTax=0;var currentTax=this.currentTax;$H(this.optionPrices).each(function(pair){if('undefined'!=typeof(pair.value.price)&&'undefined'!=typeof(pair.value.oldPrice)){price+=parseFloat(pair.value.price);oldPrice+=parseFloat(pair.value.oldPrice);}else if(pair.key=='nontaxable'){nonTaxable=pair.value;}else if(pair.key=='priceInclTax'){priceInclTax+=pair.value;}else if(pair.key=='optionsPriceInclTax'){priceInclTax+=pair.value*(100+currentTax)/100;}else{price+=parseFloat(pair.value);oldPrice+=parseFloat(pair.value);}});var result=[price,nonTaxable,oldPrice,priceInclTax];return result;},reload:function(){var price;var formattedPrice;var optionPrices=this.getOptionPrices();var nonTaxable=optionPrices[1];var optionOldPrice=optionPrices[2];var priceInclTax=optionPrices[3];optionPrices=optionPrices[0];$H(this.containers).each(function(pair){var _productPrice;var _plusDisposition;var _minusDisposition;var _priceInclTax;if($(pair.value)){if(pair.value=='old-price-'+this.productId&&this.productOldPrice!=this.productPrice){_productPrice=this.productOldPrice;_plusDisposition=this.oldPlusDisposition;_minusDisposition=this.oldMinusDisposition;}else{_productPrice=this.productPrice;_plusDisposition=this.plusDisposition;_minusDisposition=this.minusDisposition;}_priceInclTax=priceInclTax;if(pair.value=='old-price-'+this.productId&&optionOldPrice!==undefined){price=optionOldPrice+parseFloat(_productPrice);}else if(this.specialTaxPrice=='true'&&this.priceInclTax!==undefined&&this.priceExclTax!==undefined){price=optionPrices+parseFloat(this.priceExclTax);_priceInclTax+=this.priceInclTax;}else{price=optionPrices+parseFloat(_productPrice);_priceInclTax+=parseFloat(_productPrice)*(100+this.currentTax)/100;}if(this.specialTaxPrice=='true'){var excl=price;var incl=_priceInclTax;}else if(this.includeTax=='true'){var tax=price/(100+this.defaultTax)*this.defaultTax;var excl=price-tax;var incl=excl*(1+(this.currentTax/100));}else{var tax=price*(this.currentTax/100);var excl=price;var incl=excl+tax;}var subPrice=0;var subPriceincludeTax=0;Object.values(this.customPrices).each(function(el){if(el.excludeTax&&el.includeTax){subPrice+=parseFloat(el.excludeTax);subPriceincludeTax+=parseFloat(el.includeTax);}else{subPrice+=parseFloat(el.price);subPriceincludeTax+=parseFloat(el.price);}});excl+=subPrice;incl+=subPriceincludeTax;if(typeof this.exclDisposition=='undefined'){excl+=parseFloat(_plusDisposition);}incl+=parseFloat(_plusDisposition)+parseFloat(this.plusDispositionTax);excl-=parseFloat(_minusDisposition);incl-=parseFloat(_minusDisposition);excl+=parseFloat(nonTaxable);incl+=parseFloat(nonTaxable);if(pair.value=='price-including-tax-'+this.productId){price=incl;}else if(pair.value=='price-excluding-tax-'+this.productId){price=excl;}else if(pair.value=='old-price-'+this.productId){if(this.showIncludeTax||this.showBothPrices){price=incl;}else{price=excl;}}else{if(this.showIncludeTax){price=incl;}else{price=excl;}}if(price<0)price=0;if(price>0||this.displayZeroPrice){formattedPrice=this.formatPrice(price);}else{formattedPrice='';}if($(pair.value).select('.price')[0]){$(pair.value).select('.price')[0].innerHTML=formattedPrice;if($(pair.value+this.duplicateIdSuffix)&&$(pair.value+this.duplicateIdSuffix).select('.price')[0]){$(pair.value+this.duplicateIdSuffix).select('.price')[0].innerHTML=formattedPrice;}}else{$(pair.value).innerHTML=formattedPrice;if($(pair.value+this.duplicateIdSuffix)){$(pair.value+this.duplicateIdSuffix).innerHTML=formattedPrice;}}};}.bind(this));if(typeof(skipTierPricePercentUpdate)===\"undefined\"&&typeof(this.tierPrices)!==\"undefined\"){for(var i=0;i<this.tierPrices.length;i++){$$('.benefit').each(function(el){var parsePrice=function(html){var format=this.priceFormat;var decimalSymbol=format.decimalSymbol===undefined?\",\":format.decimalSymbol;var regexStr='[^0-9-'+decimalSymbol+']';html=html.replace(new RegExp(regexStr,'g'),'');html=html.replace(decimalSymbol,'.');return parseFloat(html);}.bind(this);var updateTierPriceInfo=function(priceEl,tierPriceDiff,tierPriceEl,benefitEl){if(typeof(tierPriceEl)===\"undefined\"){return;}var price=parsePrice(priceEl.innerHTML);var tierPrice=price+tierPriceDiff;tierPriceEl.innerHTML=this.formatPrice(tierPrice);var $percent=Selector.findChildElements(benefitEl,['.percent.tier-'+i]);$percent.each(function(el){el.innerHTML=Math.ceil(100-((100/price)*tierPrice));});}.bind(this);var tierPriceElArray=$$('.tier-price.tier-'+i+' .price');if(this.showBothPrices){var containerExclTax=$(this.containers[3]);var tierPriceExclTaxDiff=this.tierPrices[i];var tierPriceExclTaxEl=tierPriceElArray[0];updateTierPriceInfo(containerExclTax,tierPriceExclTaxDiff,tierPriceExclTaxEl,el);var containerInclTax=$(this.containers[2]);var tierPriceInclTaxDiff=this.tierPricesInclTax[i];var tierPriceInclTaxEl=tierPriceElArray[1];updateTierPriceInfo(containerInclTax,tierPriceInclTaxDiff,tierPriceInclTaxEl,el);}else if(this.showIncludeTax){var container=$(this.containers[0]);var tierPriceInclTaxDiff=this.tierPricesInclTax[i];var tierPriceInclTaxEl=tierPriceElArray[0];updateTierPriceInfo(container,tierPriceInclTaxDiff,tierPriceInclTaxEl,el);}else{var container=$(this.containers[0]);var tierPriceExclTaxDiff=this.tierPrices[i];var tierPriceExclTaxEl=tierPriceElArray[0];updateTierPriceInfo(container,tierPriceExclTaxDiff,tierPriceExclTaxEl,el);}},this);}}},formatPrice:function(price){return formatCurrency(price,this.priceFormat);}}";
var mod_pagespeed_r1ILTr7C3Y = "if(typeof Product=='undefined'){var Product={};}Product.Config=Class.create();Product.Config.prototype={initialize:function(config){this.config=config;this.taxConfig=this.config.taxConfig;if(config.containerId){this.settings=$$('#'+config.containerId+' '+'.super-attribute-select');}else{this.settings=$$('.super-attribute-select');}this.state=new Hash();this.priceTemplate=new Template(this.config.template);this.prices=config.prices;if(config.defaultValues){this.values=config.defaultValues;}var separatorIndex=window.location.href.indexOf('#');if(separatorIndex!=-1){var paramsStr=window.location.href.substr(separatorIndex+1);var urlValues=paramsStr.toQueryParams();if(!this.values){this.values={};}for(var i in urlValues){this.values[i]=urlValues[i];}}if(config.inputsInitialized){this.values={};this.settings.each(function(element){if(element.value){var attributeId=element.id.replace(/[a-z]*/,'');this.values[attributeId]=element.value;}}.bind(this));}this.settings.each(function(element){Event.observe(element,'change',this.configure.bind(this))}.bind(this));this.settings.each(function(element){var attributeId=element.id.replace(/[a-z]*/,'');if(attributeId&&this.config.attributes[attributeId]){element.config=this.config.attributes[attributeId];element.attributeId=attributeId;this.state[attributeId]=false;}}.bind(this))\nvar childSettings=[];for(var i=this.settings.length-1;i>=0;i--){var prevSetting=this.settings[i-1]?this.settings[i-1]:false;var nextSetting=this.settings[i+1]?this.settings[i+1]:false;if(i==0){this.fillSelect(this.settings[i])}else{this.settings[i].disabled=true;}$(this.settings[i]).childSettings=childSettings.clone();$(this.settings[i]).prevSetting=prevSetting;$(this.settings[i]).nextSetting=nextSetting;childSettings.push(this.settings[i]);}this.configureForValues();document.observe(\"dom:loaded\",this.configureForValues.bind(this));},configureForValues:function(){if(this.values){this.settings.each(function(element){var attributeId=element.attributeId;element.value=(typeof(this.values[attributeId])=='undefined')?'':this.values[attributeId];this.configureElement(element);}.bind(this));}},configure:function(event){var element=Event.element(event);this.configureElement(element);},configureElement:function(element){this.reloadOptionLabels(element);if(element.value){this.state[element.config.id]=element.value;if(element.nextSetting){element.nextSetting.disabled=false;this.fillSelect(element.nextSetting);this.resetChildren(element.nextSetting);}}else{this.resetChildren(element);}this.reloadPrice();},reloadOptionLabels:function(element){var selectedPrice;if(element.options[element.selectedIndex].config&&!this.config.stablePrices){selectedPrice=parseFloat(element.options[element.selectedIndex].config.price)}else{selectedPrice=0;}for(var i=0;i<element.options.length;i++){if(element.options[i].config){element.options[i].text=this.getOptionLabel(element.options[i].config,element.options[i].config.price-selectedPrice);}}},resetChildren:function(element){if(element.childSettings){for(var i=0;i<element.childSettings.length;i++){element.childSettings[i].selectedIndex=0;element.childSettings[i].disabled=true;if(element.config){this.state[element.config.id]=false;}}}},fillSelect:function(element){var attributeId=element.id.replace(/[a-z]*/,'');var options=this.getAttributeOptions(attributeId);this.clearSelect(element);element.options[0]=new Option('','');element.options[0].innerHTML=this.config.chooseText;var prevConfig=false;if(element.prevSetting){prevConfig=element.prevSetting.options[element.prevSetting.selectedIndex];}if(options){var index=1;for(var i=0;i<options.length;i++){var allowedProducts=[];if(prevConfig){for(var j=0;j<options[i].products.length;j++){if(prevConfig.config.allowedProducts&&prevConfig.config.allowedProducts.indexOf(options[i].products[j])>-1){allowedProducts.push(options[i].products[j]);}}}else{allowedProducts=options[i].products.clone();}if(allowedProducts.size()>0){options[i].allowedProducts=allowedProducts;element.options[index]=new Option(this.getOptionLabel(options[i],options[i].price),options[i].id);if(typeof options[i].price!='undefined'){element.options[index].setAttribute('price',options[i].price);}element.options[index].config=options[i];index++;}}}},getOptionLabel:function(option,price){var price=parseFloat(price);if(this.taxConfig.includeTax){var tax=price/(100+this.taxConfig.defaultTax)*this.taxConfig.defaultTax;var excl=price-tax;var incl=excl*(1+(this.taxConfig.currentTax/100));}else{var tax=price*(this.taxConfig.currentTax/100);var excl=price;var incl=excl+tax;}if(this.taxConfig.showIncludeTax||this.taxConfig.showBothPrices){price=incl;}else{price=excl;}var str=option.label;if(price){if(this.taxConfig.showBothPrices){str+=' '+this.formatPrice(excl,true)+' ('+this.formatPrice(price,true)+' '+this.taxConfig.inclTaxTitle+')';}else{str+=' '+this.formatPrice(price,true);}}return str;},formatPrice:function(price,showSign){var str='';price=parseFloat(price);if(showSign){if(price<0){str+='-';price=-price;}else{str+='+';}}var roundedPrice=(Math.round(price*100)/100).toString();if(this.prices&&this.prices[roundedPrice]){str+=this.prices[roundedPrice];}else{str+=this.priceTemplate.evaluate({price:price.toFixed(2)});}return str;},clearSelect:function(element){for(var i=element.options.length-1;i>=0;i--){element.remove(i);}},getAttributeOptions:function(attributeId){if(this.config.attributes[attributeId]){return this.config.attributes[attributeId].options;}},reloadPrice:function(){if(this.config.disablePriceReload){return;}var price=0;var oldPrice=0;for(var i=this.settings.length-1;i>=0;i--){var selected=this.settings[i].options[this.settings[i].selectedIndex];if(selected.config){price+=parseFloat(selected.config.price);oldPrice+=parseFloat(selected.config.oldPrice);}}optionsPrice.changePrice('config',{'price':price,'oldPrice':oldPrice});optionsPrice.reload();return price;if($('product-price-'+this.config.productId)){$('product-price-'+this.config.productId).innerHTML=price;}this.reloadOldPrice();},reloadOldPrice:function(){if(this.config.disablePriceReload){return;}if($('old-price-'+this.config.productId)){var price=parseFloat(this.config.oldPrice);for(var i=this.settings.length-1;i>=0;i--){var selected=this.settings[i].options[this.settings[i].selectedIndex];if(selected.config){price+=parseFloat(selected.config.price);}}if(price<0)price=0;price=this.formatPrice(price);if($('old-price-'+this.config.productId)){$('old-price-'+this.config.productId).innerHTML=price;}}}}";
